<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="997px" preserveAspectRatio="none" style="width:742px;height:997px;" version="1.1" viewBox="0 0 742 997" width="742px" zoomAndPan="magnify"><defs><filter height="300%" id="f7g8084gb3jt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="206" x="267" y="22.9951">OCPI Registration process</text><rect fill="#FFFFFF" filter="url(#f7g8084gb3jt)" height="41.6992" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="27" y="312.8242"/><rect fill="#FFFFFF" filter="url(#f7g8084gb3jt)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="27" y="425.7891"/><rect fill="#FFFFFF" filter="url(#f7g8084gb3jt)" height="332.5938" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="27" y="583.3203"/><rect fill="#FFFFFF" filter="url(#f7g8084gb3jt)" height="658.3555" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="408" y="312.8242"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="32" y1="68.5938" y2="208.125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="32" x2="32" y1="208.125" y2="236.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="32" y1="236.125" y2="996.3125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="412.5" x2="412.5" y1="68.5938" y2="208.125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="412.5" x2="412.5" y1="208.125" y2="236.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="412.5" x2="412.5" y1="236.125" y2="996.3125"/><rect fill="#FEFECE" filter="url(#f7g8084gb3jt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="8" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="15" y="53.292">CPO</text><rect fill="#FEFECE" filter="url(#f7g8084gb3jt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="384.5" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="391.5" y="53.292">eMSP</text><rect fill="#FFFFFF" filter="url(#f7g8084gb3jt)" height="41.6992" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="27" y="312.8242"/><rect fill="#FFFFFF" filter="url(#f7g8084gb3jt)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="27" y="425.7891"/><rect fill="#FFFFFF" filter="url(#f7g8084gb3jt)" height="332.5938" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="27" y="583.3203"/><rect fill="#FFFFFF" filter="url(#f7g8084gb3jt)" height="658.3555" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="408" y="312.8242"/><rect fill="#EEEEEE" filter="url(#f7g8084gb3jt)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="734" x="3" y="99.1602"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="737" y1="99.1602" y2="99.1602"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="737" y1="102.1602" y2="102.1602"/><rect fill="#EEEEEE" filter="url(#f7g8084gb3jt)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="68" x="336" y="88.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="342" y="104.6606">Offline</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="74" y1="142.8594" y2="142.8594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="74" x2="74" y1="142.8594" y2="155.8594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="33" x2="74" y1="155.8594" y2="155.8594"/><polygon fill="#A80036" points="43,151.8594,33,155.8594,43,159.8594,39,155.8594" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="39" y="137.7935">Generate token: TOKEN_A</text><polygon fill="#A80036" points="401,195.8594,411,199.8594,401,203.8594,405,199.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="407" y1="199.8594" y2="199.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="39" y="179.9263">send information via e-mail</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="357" x="39" y="195.0591">(TOKEN_A, "https://company.com/ocpi/cpo/versions", ...)</text><rect fill="#EEEEEE" filter="url(#f7g8084gb3jt)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="734" x="3" y="256.6914"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="737" y1="256.6914" y2="256.6914"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="737" y1="259.6914" y2="259.6914"/><rect fill="#EEEEEE" filter="url(#f7g8084gb3jt)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="54" x="343" y="246.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35" x="349" y="262.1919">OCPI</text><polygon fill="#A80036" points="48,308.8242,38,312.8242,48,316.8242,44,312.8242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="407" y1="312.8242" y2="312.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="54" y="307.8911">GET /ocpi/cpo/versions</text><polygon fill="#FBFB77" filter="url(#f7g8084gb3jt)" points="423,284.2578,423,324.2578,719,324.2578,719,294.2578,709,284.2578,423,284.2578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="709" x2="709" y1="284.2578" y2="294.2578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="719" x2="709" y1="294.2578" y2="294.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="429" y="301.3247">The eMSP uses TOKEN_A as authentication</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="429" y="316.4575">to fetch information from the CPO.</text><polygon fill="#A80036" points="396,350.5234,406,354.5234,396,358.5234,400,354.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="32" x2="402" y1="354.5234" y2="354.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="39" y="349.5903">Available versions</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="418" x2="460" y1="383.7891" y2="383.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="460" x2="460" y1="383.7891" y2="396.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="419" x2="460" y1="396.7891" y2="396.7891"/><polygon fill="#A80036" points="429,392.7891,419,396.7891,429,400.7891,425,396.7891" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="425" y="378.7231">Pick latest mutual version (e.g. 2.0).</text><polygon fill="#A80036" points="48,421.7891,38,425.7891,48,429.7891,44,425.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="407" y1="425.7891" y2="425.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="54" y="420.856">GET /ocpi/cpo/2.0/</text><polygon fill="#A80036" points="396,450.9219,406,454.9219,396,458.9219,400,454.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="32" x2="402" y1="454.9219" y2="454.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="39" y="449.9888">Available endpoints for v2.0</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="418" x2="460" y1="484.1875" y2="484.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="460" x2="460" y1="484.1875" y2="497.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="419" x2="460" y1="497.1875" y2="497.1875"/><polygon fill="#A80036" points="429,493.1875,419,497.1875,429,501.1875,425,497.1875" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="425" y="479.1216">Store version and endpoints</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="418" x2="460" y1="526.3203" y2="526.3203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="460" x2="460" y1="526.3203" y2="539.3203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="419" x2="460" y1="539.3203" y2="539.3203"/><polygon fill="#A80036" points="429,535.3203,419,539.3203,429,543.3203,425,539.3203" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="425" y="521.2544">Generate token: TOKEN_B</text><polygon fill="#A80036" points="48,579.3203,38,583.3203,48,587.3203,44,583.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="407" y1="583.3203" y2="583.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="54" y="563.3872">POST /ocpi/cpo/2.0/credentials</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="54" y="578.52">("/ocpi/emsp/versions", TOKEN_B, ...)</text><polygon fill="#A80036" points="396,608.5859,406,612.5859,396,616.5859,400,612.5859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37" x2="402" y1="612.5859" y2="612.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="44" y="607.6528">GET /ocpi/emsp/versions</text><polygon fill="#A80036" points="48,637.7188,38,641.7188,48,645.7188,44,641.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="42" x2="407" y1="641.7188" y2="641.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="54" y="636.7856">Available versions</text><polygon fill="#A80036" points="396,666.8516,406,670.8516,396,674.8516,400,670.8516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37" x2="402" y1="670.8516" y2="670.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="44" y="665.9185">GET /ocpi/emsp/2.0/</text><polygon fill="#A80036" points="48,716.1172,38,720.1172,48,724.1172,44,720.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="42" x2="407" y1="720.1172" y2="720.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="54" y="715.1841">Available endpoints for v2.0</text><polygon fill="#FBFB77" filter="url(#f7g8084gb3jt)" points="423,683.9844,423,738.9844,728,738.9844,728,693.9844,718,683.9844,423,683.9844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="718" x2="718" y1="683.9844" y2="693.9844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="728" x2="718" y1="693.9844" y2="693.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="429" y="701.0513">The CPO knows it's version 2.0 because</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="429" y="716.1841">of the endpoint the eMSP has used. The URL</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="429" y="731.3169">is retrieved from the available versions.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="37" x2="79" y1="769.5156" y2="769.5156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79" x2="79" y1="769.5156" y2="782.5156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="38" x2="79" y1="782.5156" y2="782.5156"/><polygon fill="#A80036" points="48,778.5156,38,782.5156,48,786.5156,44,782.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="44" y="764.4497">Store version and endpoints</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="37" x2="79" y1="811.6484" y2="811.6484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79" x2="79" y1="811.6484" y2="824.6484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="38" x2="79" y1="824.6484" y2="824.6484"/><polygon fill="#A80036" points="48,820.6484,38,824.6484,48,828.6484,44,824.6484" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="44" y="806.5825">Store TOKEN_B</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="37" x2="79" y1="853.7813" y2="853.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79" x2="79" y1="853.7813" y2="866.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="38" x2="79" y1="866.7813" y2="866.7813"/><polygon fill="#A80036" points="48,862.7813,38,866.7813,48,870.7813,44,866.7813" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="44" y="848.7153">Generate TOKEN_C</text><polygon fill="#A80036" points="396,911.9141,406,915.9141,396,919.9141,400,915.9141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="32" x2="402" y1="915.9141" y2="915.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="39" y="910.981">Credentials with TOKEN_C for eMSP</text><polygon fill="#FBFB77" filter="url(#f7g8084gb3jt)" points="423,879.7813,423,934.7813,715,934.7813,715,889.7813,705,879.7813,423,879.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="705" x2="705" y1="879.7813" y2="889.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="715" x2="705" y1="889.7813" y2="889.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="429" y="896.8481">By returning new credentials for the eMSP,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="429" y="911.981">the initial setup token (TOKEN_A)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="429" y="927.1138">has now become invalid.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="418" x2="460" y1="970.3125" y2="970.3125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="460" x2="460" y1="970.3125" y2="983.3125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="413" x2="460" y1="983.3125" y2="983.3125"/><polygon fill="#A80036" points="423,979.3125,413,983.3125,423,987.3125,419,983.3125" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="258" x="425" y="965.2466">Store updated credentials with TOKEN_C</text></g></svg>